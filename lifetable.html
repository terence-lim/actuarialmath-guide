

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Life Table &#8212; Solving Actuarial Math with Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lifetable';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SULT" href="sult.html" />
    <link rel="prev" title="Recursion" href="recursion.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="README.html">
  
  
  
  
  
    <p class="title logo__title">Solving Actuarial Math with Python</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="README.html">
                    USER GUIDE
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="actuarial.html">Actuarial Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="interest.html">Interest Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="life.html">Life Contingent Risks</a></li>
<li class="toctree-l1"><a class="reference internal" href="survival.html">Survival Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="lifetime.html">Expected Future Lifetimes</a></li>
<li class="toctree-l1"><a class="reference internal" href="fractional.html">Fractional Ages</a></li>
<li class="toctree-l1"><a class="reference internal" href="insurance.html">Insurance</a></li>
<li class="toctree-l1"><a class="reference internal" href="annuity.html">Annuities</a></li>
<li class="toctree-l1"><a class="reference internal" href="premiums.html">Premiums</a></li>
<li class="toctree-l1"><a class="reference internal" href="policyvalues.html">Policy Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="reserves.html">Reserves</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursion.html">Recursion</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Life Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="sult.html">SULT</a></li>
<li class="toctree-l1"><a class="reference internal" href="selectlife.html">Select Life Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="mortalitylaws.html">Mortality Laws</a></li>
<li class="toctree-l1"><a class="reference internal" href="constantforce.html">Constant Force of Mortality</a></li>
<li class="toctree-l1"><a class="reference internal" href="extrarisk.html">Extra Risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="mthly.html">1/M’thly</a></li>
<li class="toctree-l1"><a class="reference internal" href="udd.html">UDD M’thly</a></li>
<li class="toctree-l1"><a class="reference internal" href="woolhouse.html">Woolhouse M’thly</a></li>
<li class="toctree-l1"><a class="reference internal" href="faml.html">Sample Solutions and Hints</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/terence-lim/actuarialmath.git" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/terence-lim/actuarialmath.git/issues/new?title=Issue%20on%20page%20%2Flifetable.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/lifetable.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Life Table</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="life-table">
<h1>Life Table<a class="headerlink" href="#life-table" title="Permalink to this heading">#</a></h1>
<p>A life table, from some initial age <span class="math notranslate nohighlight">\(x_0\)</span> to a maximum age <span class="math notranslate nohighlight">\(\omega\)</span>, represents a survival model with probabilities <span class="math notranslate nohighlight">\(_tp_x\)</span>.  A life table is typically tabulated for the number of lives <span class="math notranslate nohighlight">\(l_x\)</span> at integer ages <span class="math notranslate nohighlight">\(x\)</span> only – fractional age assumptions would be needed to calculate survival probabilities for non-integer ages and durations.</p>
<p><span class="math notranslate nohighlight">\(l_{x_0+t} = l_{x_0}~_tp_{x_0}\)</span>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(l_{x_0}\)</span> is an arbitrary positive number of lives at starting age <span class="math notranslate nohighlight">\(x_0\)</span> called the radix</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(d_x = l_x - l_{x+1}\)</span></p>
<ul class="simple">
<li><p>it is usual for a life table to also show the values of <span class="math notranslate nohighlight">\(d_x\)</span>, the expected of deaths in the year of age <span class="math notranslate nohighlight">\(x\)</span> to <span class="math notranslate nohighlight">\(x+1\)</span>.</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(q_x = \dfrac{d_x}{l_x}\)</span></p>
<ul class="simple">
<li><p>the mortality rate can then be derived, which is the probability that a life aged <span class="math notranslate nohighlight">\(x\)</span> dies within one year.</p></li>
</ul>
<p>Recursion formulas from earlier sections allow the recursive construction of a table of other life contingent values, such as life expectancy, insurance, and annuities, at all ages.</p>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">LifeTable</span></code> class specifies a given life table to be the survival model.  It inherits all the general methods for computing life contingency risks, and overrides those methods where values can be looked up or calculated from life table entries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">actuarialmath</span> <span class="kn">import</span> <span class="n">LifeTable</span>
<span class="kn">import</span> <span class="nn">describe</span>
<span class="n">describe</span><span class="o">.</span><span class="n">methods</span><span class="p">(</span><span class="n">LifeTable</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>class LifeTable - Calculate life table, and iteratively fill in missing values

    Args:
      udd : assume UDD or constant force of mortality for fractional ages
      verbose : whether to echo update steps

    Notes:
      4 types of columns can be loaded and calculated in the life table:

      - &#39;q&#39; : probability (x) dies in one year
      - &#39;l&#39; : number of lives aged x
      - &#39;d&#39; : number of deaths of age x
      - &#39;p&#39; : probability (x) survives at least one year

    Methods:
    --------

    set_table(radix, minage, maxage, fill, l, d, p, q):
      Update life table

    fill_table(radix):
      Iteratively fill in missing table cells (does not check consistency)

    frame():
      Return life table columns and values in a DataFrame

    __getitem__(col):
      Returns a column of the life table
</pre></div>
</div>
</div>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">set_table</span></code> method is called to load a life table, by age, with given values of number of lives, number of deaths, mortality rate, and/or survival probability: if the <code class="docutils literal notranslate"><span class="pre">fill</span></code> flag is set to True (by default), <code class="docutils literal notranslate"><span class="pre">fill_table</span></code> is automatically called to fill in any missing values using recursion and identify formulas.  All other computational methods can then be called in the usual manner, which will use the survival model provided by the life table.</p>
<p><strong>AMLCR2 Exercise 3.2</strong></p>
<p>You are given the following life table extract.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Age,x</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(l_x\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>52</p></td>
<td><p>89948</p></td>
</tr>
<tr class="row-odd"><td><p>53</p></td>
<td><p>89089</p></td>
</tr>
<tr class="row-even"><td><p>54</p></td>
<td><p>88176</p></td>
</tr>
<tr class="row-odd"><td><p>55</p></td>
<td><p>87208</p></td>
</tr>
<tr class="row-even"><td><p>56</p></td>
<td><p>86181</p></td>
</tr>
<tr class="row-odd"><td><p>57</p></td>
<td><p>85093</p></td>
</tr>
<tr class="row-even"><td><p>58</p></td>
<td><p>83940</p></td>
</tr>
<tr class="row-odd"><td><p>59</p></td>
<td><p>82719</p></td>
</tr>
<tr class="row-even"><td><p>60</p></td>
<td><p>81429</p></td>
</tr>
</tbody>
</table>
<p>Calculate</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(_{0.2}q_{52.4}\)</span> assuming UDD (fractional age assumption),</p></li>
<li><p><span class="math notranslate nohighlight">\(_{0.2}q_{52.4}\)</span> assuming constant force of mortality (fractional age assumption),</p></li>
<li><p><span class="math notranslate nohighlight">\(_{5.7}p_{52.4}\)</span> assuming UDD,</p></li>
<li><p><span class="math notranslate nohighlight">\(_{5.7}p_{52.4}\)</span> assuming constant force of mortality,</p></li>
<li><p><span class="math notranslate nohighlight">\(_{3.2|2.5}q_{52.4}\)</span> assuming UDD, and</p></li>
<li><p><span class="math notranslate nohighlight">\(_{3.2|2.5}q_{52.4}\)</span> assuming constant force of mortality.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">l</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">l</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">52</span><span class="p">,</span> <span class="mi">61</span><span class="p">),</span> 
                            <span class="p">[</span><span class="mi">89948</span><span class="p">,</span> <span class="mi">89089</span><span class="p">,</span> <span class="mi">88176</span><span class="p">,</span> <span class="mi">87208</span><span class="p">,</span> <span class="mi">86181</span><span class="p">,</span> 
                             <span class="mi">85093</span><span class="p">,</span> <span class="mi">83940</span><span class="p">,</span> <span class="mi">82719</span><span class="p">,</span> <span class="mi">81429</span><span class="p">])}</span>
<span class="n">life1</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">(</span><span class="n">udd</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
<span class="n">life2</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">(</span><span class="n">udd</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([</span><span class="nb">round</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">[</span><span class="n">life1</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">0.2</span><span class="p">),</span>   <span class="c1"># 0.001917                                 </span>
                             <span class="n">life2</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">0.2</span><span class="p">),</span>   <span class="c1"># 0.001917                                 </span>
                             <span class="n">life1</span><span class="o">.</span><span class="n">p_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">5.7</span><span class="p">),</span>   <span class="c1"># 0.935422                                 </span>
                             <span class="n">life2</span><span class="o">.</span><span class="n">p_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">5.7</span><span class="p">),</span>   <span class="c1"># 0.935423                                 </span>
                             <span class="n">life1</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mf">3.2</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">2.5</span><span class="p">),</span>  <span class="c1"># 0.030957                           </span>
                             <span class="n">life2</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">52</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mf">3.2</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)]])</span>  <span class="c1"># 0.030950 </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.001917, 0.001917, 0.935422, 0.935423, 0.030957, 0.03095]
</pre></div>
</div>
</div>
</div>
<p><strong>SOA Question 6.53</strong></p>
<p>A warranty pays 2000 at the end of the year of the first failure if a washing machine fails within
three years of purchase. The warranty is purchased with a single premium, G, paid at the time of
purchase of the washing machine.
You are given:</p>
<ul class="simple">
<li><p>10% of the washing machines that are working at the start of each year fail by the end of that year</p></li>
<li><p>i = 0.08</p></li>
<li><p>The sales commission is 35% of G</p></li>
<li><p>G is calculated using the equivalence principle</p></li>
</ul>
<p>Calculate G.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SOA Question 6.53:  (D) 720&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">life</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">()</span><span class="o">.</span><span class="n">set_interest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mf">0.08</span><span class="p">)</span>\
                   <span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">life</span><span class="o">.</span><span class="n">term_insurance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">life</span><span class="o">.</span><span class="n">gross_premium</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="n">A</span><span class="p">,</span> <span class="n">benefit</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">initial_premium</span><span class="o">=</span><span class="mf">0.35</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">frame</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SOA Question 6.53:  (D) 720
0.23405349794238678 720.1646090534978
          l        d    q    p
0  100000.0  10000.0  0.1  0.9
1   90000.0   9000.0  0.1  0.9
2   81000.0   8100.0  0.1  0.9
3   72900.0      NaN  NaN  NaN
</pre></div>
</div>
</div>
</div>
<p><strong>SOA Question 6.41</strong></p>
<p>For a special fully discrete 2-year term insurance on (x), you are given:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(q_x = 0.01\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(q_{x + 1} = 0.02\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(i = 0.05\)</span></p></li>
<li><p>The death benefit in the first year is 100,000</p></li>
<li><p>Both the benefits and premiums increase by 1% in the second year</p></li>
</ul>
<p>Calculate the annual net premium in the first year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SOA Question 6.41:  (B) 1417&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">life</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">()</span><span class="o">.</span><span class="n">set_interest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>\
                  <span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="mf">.01</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="mf">.02</span><span class="p">})</span>
<span class="n">P</span> <span class="o">=</span> <span class="mf">1416.93</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">life</span><span class="o">.</span><span class="n">E_x</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.01</span>
<span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">deferred_insurance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
     <span class="o">+</span> <span class="mf">1.01</span> <span class="o">*</span> <span class="n">life</span><span class="o">.</span><span class="n">deferred_insurance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="n">P</span> <span class="o">=</span> <span class="mi">100000</span> <span class="o">*</span> <span class="n">A</span> <span class="o">/</span> <span class="n">a</span>
<span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">frame</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SOA Question 6.41:  (B) 1417
1.9522857142857144 0.027662585034013608
1416.9332301924137
          l       d     q     p
0  100000.0  1000.0  0.01  0.99
1   99000.0  1980.0  0.02  0.98
2   97020.0     NaN   NaN   NaN
</pre></div>
</div>
</div>
</div>
<p><strong>SOA Question 3.11</strong></p>
<p>For the country of Bienna, you are given:</p>
<ul class="simple">
<li><p>Bienna publishes mortality rates in biennial form, that is, mortality rates are of the form: <span class="math notranslate nohighlight">\(_2q_{2x},\)</span> for <span class="math notranslate nohighlight">\(x = 0,1, 2,...\)</span></p></li>
<li><p>Deaths are assumed to be uniformly distributed between ages <span class="math notranslate nohighlight">\(2x\)</span> and <span class="math notranslate nohighlight">\(2x + 2\)</span>, for <span class="math notranslate nohighlight">\(x = 0,1, 2,...\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(_2q_{50} = 0.02\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(_2q_{52} = 0.04\)</span>
Calculate the probability that (50) dies during the next 2.5 years.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SOA Question 3.11:  (B) 0.03&quot;</span><span class="p">)</span>
<span class="n">life</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">(</span><span class="n">udd</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="p">{</span><span class="mi">50</span><span class="o">//</span><span class="mi">2</span><span class="p">:</span> <span class="mf">.02</span><span class="p">,</span> <span class="mi">52</span><span class="o">//</span><span class="mi">2</span><span class="p">:</span> <span class="mf">.04</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="mi">50</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">2.5</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">frame</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SOA Question 3.11:  (B) 0.03
0.0298
           l       d     q     p
25  100000.0  2000.0  0.02  0.98
26   98000.0  3920.0  0.04  0.96
27   94080.0     NaN   NaN   NaN
</pre></div>
</div>
</div>
</div>
<p><strong>SOA Question 3.5</strong></p>
<p>You are given:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(x\)</span></p></th>
<th class="head"><p>60</p></th>
<th class="head"><p>61</p></th>
<th class="head"><p>62</p></th>
<th class="head"><p>63</p></th>
<th class="head"><p>64</p></th>
<th class="head"><p>65</p></th>
<th class="head"><p>66</p></th>
<th class="head"><p>67</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(l_x\)</span></p></td>
<td><p>99,999</p></td>
<td><p>88,888</p></td>
<td><p>77,777</p></td>
<td><p>66,666</p></td>
<td><p>55,555</p></td>
<td><p>44,444</p></td>
<td><p>33,333</p></td>
<td><p>22,222</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(a =~ _{3.4|2.5}q_{60}\)</span> assuming a uniform distribution of deaths over each year of age</p>
<p><span class="math notranslate nohighlight">\(b =~ _{3.4|2.5}q_{60}\)</span> assuming a constant force of mortality over each year of age</p>
<p>Calculate <span class="math notranslate nohighlight">\(100,000( a − b )\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SOA Question 3.5:  (E) 106&quot;</span><span class="p">)</span>
<span class="n">l</span> <span class="o">=</span> <span class="p">{</span><span class="mi">60</span><span class="o">+</span><span class="n">x</span><span class="p">:</span> <span class="n">n</span><span class="o">*</span><span class="mi">11111</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])}</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">LifeTable</span><span class="p">(</span><span class="n">udd</span><span class="o">=</span><span class="n">udd</span><span class="p">)</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">)</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mf">3.4</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">udd</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">100000</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SOA Question 3.5:  (E) 106
106.16575827938624
</pre></div>
</div>
</div>
</div>
<p><strong>SOA Question 3.14</strong></p>
<p>You are given the following information from a life table:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>x</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(l_x\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(d_x\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(p_x\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(q_x\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>95</p></td>
<td><p>−</p></td>
<td><p>−</p></td>
<td><p>−</p></td>
<td><p>0.40</p></td>
</tr>
<tr class="row-odd"><td><p>96</p></td>
<td><p>−</p></td>
<td><p>−</p></td>
<td><p>0.20</p></td>
<td><p>−</p></td>
</tr>
<tr class="row-even"><td><p>97</p></td>
<td><p>−</p></td>
<td><p>72</p></td>
<td><p>−</p></td>
<td><p>1.00</p></td>
</tr>
</tbody>
</table>
<p>You are also given:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(l_{90} = 1000\)</span> and <span class="math notranslate nohighlight">\(l_{93} = 825\)</span></p></li>
<li><p>Deaths are uniformly distributed over each year of age.</p></li>
</ul>
<p>Calculate the probability that (90) dies between ages 93 and 95.5.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SOA Question 3.14:  (C) 0.345&quot;</span><span class="p">)</span>
<span class="n">life</span> <span class="o">=</span> <span class="n">LifeTable</span><span class="p">(</span><span class="n">udd</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">set_table</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="p">{</span><span class="mi">90</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">93</span><span class="p">:</span> <span class="mi">825</span><span class="p">},</span>
                                     <span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="mi">97</span><span class="p">:</span> <span class="mi">72</span><span class="p">},</span>
                                     <span class="n">p</span><span class="o">=</span><span class="p">{</span><span class="mi">96</span><span class="p">:</span> <span class="mf">.2</span><span class="p">},</span>
                                     <span class="n">q</span><span class="o">=</span><span class="p">{</span><span class="mi">95</span><span class="p">:</span> <span class="mf">.4</span><span class="p">,</span> <span class="mi">97</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">q_r</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">93</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mf">95.5</span><span class="o">-</span><span class="mi">93</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life</span><span class="o">.</span><span class="n">frame</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SOA Question 3.14:  (C) 0.345
0.345
         l      d    q    p
90  1000.0    NaN  NaN  NaN
93   825.0    NaN  NaN  NaN
95   600.0  240.0  0.4  0.6
96   360.0  288.0  0.8  0.2
97    72.0   72.0  1.0  0.0
98     0.0    NaN  NaN  NaN
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="recursion.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Recursion</p>
      </div>
    </a>
    <a class="right-next"
       href="sult.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">SULT</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methods">Methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Terence Lim
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>